<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<style>
		body {
			margin: 0;
			padding: 0;
			overflow: hidden;
		}
	</style>
	<!-- <title>play</title> -->
</head>

<body onselectstart="return false">
	<canvas id='cas' style="background-color:rgba(0,5,24,1)">浏览器不支持canvas</canvas>
	<img src="moon.png" alt="" id="moon" style="visibility: hidden;" />

	<script>
		var canvas = document.getElementById("cas");
		var ctx = canvas.getContext("2d");
		canvas.width = window.innerWidth;
		canvas.height = window.innerHeight;

		window.onload = function () {
			initAnimate();
		};

		function initAnimate () {
			drawBg();
			drawMoon();
		}


		var maxRadius = 1, stars = [];
		function drawBg () {
			for (var i = 0; i < 500; i++) {
				var r = Math.random() * maxRadius;
				var x = Math.random() * canvas.width;
				var y = Math.random() * 2 * canvas.height - canvas.height;
				var star = new Star(x, y, r);
				stars.push(star);
				star.paint();
			}
		}

		function drawMoon () {
			var moon = document.getElementById("moon");
			var centerX = canvas.width - 200, centerY = 100, width = 80;
			if (moon.complete) {
				ctx.drawImage(moon, centerX, centerY, width, width);
			}
			else {
				moon.onload = function () {
					ctx.drawImage(moon, centerX, centerY, width, width);
				};
			}
			var index = 0;
			for (var i = 0; i < 10; i++) {
				ctx.save();
				ctx.beginPath();
				ctx.arc(centerX + width / 2, centerY + width / 2, width / 2 + index, 0, 2 * Math.PI);
				ctx.fillStyle = "rgba(240,219,120,0.005)";
				index += 2;
				ctx.fill();
				ctx.restore();
			}

		}

		var Star = function (x, y, r) {
			this.x = x; this.y = y; this.r = r;
		};
		Star.prototype = {
			paint: function () {
				ctx.save();
				ctx.beginPath();
				ctx.arc(this.x, this.y, this.r, 0, 2 * Math.PI);
				ctx.fillStyle = "rgba(255,255,255," + this.r + ")";
				ctx.fill();
				ctx.restore();
			}
		};

	</script>
	<script>
		var _hmt = _hmt || [];
	</script>

</body>

</html>